<!-- /snippets/pagination-custom.liquid -->

{% comment %}
  * This snippet renders a custom widget based on the current 'paginate' context,
  {% render 'pagination-custom', paginate: paginate %}
{% endcomment %}

{% if paginate.pages > 1 %}
  <nav class="pagination-custom">

    {%- if paginate.previous -%}
      <a class="pagination-custom__prev" href="{{ paginate.previous.url }}" title="{{ 'general.pagination.prev' | t }}">
        <span>{{ 'general.pagination.prev' | t }}</span>
        {%- render 'icon-nav-arrow-left' -%}
      </a>
    {%- else -%}
      <span class="pagination-custom__prev is-hidden">
        <span>{{ 'general.pagination.prev' | t }}</span>
        {%- render 'icon-nav-arrow-left' -%}
      </span>
    {%- endif -%}

    <div class="pagination-custom__inner">

      {%- for part in paginate.parts -%}

        {%- assign formatted_title = part.title | prepend: '0' | slice: -2, 2 -%}
        {%- assign formatted_current = paginate.current_page | prepend: '0' | slice: -2, 2 -%}

        {%- if part.is_link -%}
          <a href="{{ part.url }}"
             title="{{ formatted_title }}"
             class="pagination-custom__page">
            {{ formatted_title }}
          </a>

        {%- else -%}
          {%- if formatted_title == formatted_current -%}
            <span class="pagination-custom__page pagination-custom__page--active">
              {{ formatted_title }}
            </span>
          {%- else -%}
            {% comment %}     {% endcomment %}         
            <span class="pagination-custom__sep">
              ...
            </span>
            
          {%- endif -%}

        {%- endif -%}

      {%- endfor -%}

    </div>

    {%- if paginate.next -%}
      <a class="pagination-custom__next" href="{{ paginate.next.url }}" title="{{ 'general.pagination.next' | t }}">
        <span>{{ 'general.pagination.next' | t }}</span>
        {%- render 'icon-nav-arrow-right' -%}
      </a>
    {%- else -%}
      <span class="pagination-custom__next is-hidden">
        <span>{{ 'general.pagination.next' | t }}</span>
        {%- render 'icon-nav-arrow-right' -%}
      </span>
    {%- endif -%}

  </nav>
{% endif %}
